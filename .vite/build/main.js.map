{"version":3,"file":"main.js","sources":["../../src/main/ipc.ts","../../src/main/index.ts"],"sourcesContent":["import { ipcMain, dialog, BrowserWindow } from 'electron';\r\n\r\nexport function registerIpcHandlers(): void {\r\n  ipcMain.handle('selectFolder', async (_event, args: { kind: string }) => {\r\n    const win = BrowserWindow.getFocusedWindow();\r\n    const result = await dialog.showOpenDialog(win!, {\r\n      properties: ['openDirectory'],\r\n      title: `Select ${args.kind === 'source' ? 'Source' : 'Destination'} Folder`,\r\n    });\r\n\r\n    if (result.canceled || result.filePaths.length === 0) {\r\n      return { path: null };\r\n    }\r\n\r\n    return { path: result.filePaths[0] };\r\n  });\r\n}\r\n","import { app, BrowserWindow } from 'electron';\r\nimport path from 'path';\r\nimport { registerIpcHandlers } from './ipc';\r\n\r\n// Handle creating/removing shortcuts on Windows when installing/uninstalling.\r\nif (require('electron-squirrel-startup')) {\r\n  app.quit();\r\n}\r\n\r\nlet mainWindow: BrowserWindow | null = null;\r\n\r\nconst createWindow = (): void => {\r\n  mainWindow = new BrowserWindow({\r\n    width: 1200,\r\n    height: 800,\r\n    webPreferences: {\r\n      preload: path.join(__dirname, 'preload.js'),\r\n      contextIsolation: true,\r\n      nodeIntegration: false,\r\n    },\r\n  });\r\n\r\n  // In development, load from Vite dev server\r\n  if (MAIN_WINDOW_VITE_DEV_SERVER_URL) {\r\n    mainWindow.loadURL(MAIN_WINDOW_VITE_DEV_SERVER_URL);\r\n  } else {\r\n    mainWindow.loadFile(\r\n      path.join(__dirname, `../renderer/${MAIN_WINDOW_VITE_NAME}/index.html`)\r\n    );\r\n  }\r\n};\r\n\r\napp.on('ready', () => {\r\n  registerIpcHandlers();\r\n  createWindow();\r\n});\r\n\r\napp.on('window-all-closed', () => {\r\n  app.quit();\r\n});\r\n\r\n// Vite environment declarations\r\ndeclare const MAIN_WINDOW_VITE_DEV_SERVER_URL: string | undefined;\r\ndeclare const MAIN_WINDOW_VITE_NAME: string;\r\n"],"names":["ipcMain","BrowserWindow","dialog","app"],"mappings":";;;AAEO,SAAS,sBAA4B;AAC1CA,WAAAA,QAAQ,OAAO,gBAAgB,OAAO,QAAQ,SAA2B;AACvE,UAAM,MAAMC,SAAAA,cAAc,iBAAA;AAC1B,UAAM,SAAS,MAAMC,gBAAO,eAAe,KAAM;AAAA,MAC/C,YAAY,CAAC,eAAe;AAAA,MAC5B,OAAO,UAAU,KAAK,SAAS,WAAW,WAAW,aAAa;AAAA,IAAA,CACnE;AAED,QAAI,OAAO,YAAY,OAAO,UAAU,WAAW,GAAG;AACpD,aAAO,EAAE,MAAM,KAAA;AAAA,IACjB;AAEA,WAAO,EAAE,MAAM,OAAO,UAAU,CAAC,EAAA;AAAA,EACnC,CAAC;AACH;ACXA,IAAI,QAAQ,2BAA2B,GAAG;AACxCC,WAAAA,IAAI,KAAA;AACN;AAEA,IAAI,aAAmC;AAEvC,MAAM,eAAe,MAAY;AAC/B,eAAa,IAAIF,SAAAA,cAAc;AAAA,IAC7B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,gBAAgB;AAAA,MACd,SAAS,KAAK,KAAK,WAAW,YAAY;AAAA,MAC1C,kBAAkB;AAAA,MAClB,iBAAiB;AAAA,IAAA;AAAA,EACnB,CACD;AAGoC;AACnC,eAAW,QAAQ,uBAA+B;AAAA,EACpD;AAKF;AAEAE,SAAAA,IAAI,GAAG,SAAS,MAAM;AACpB,sBAAA;AACA,eAAA;AACF,CAAC;AAEDA,SAAAA,IAAI,GAAG,qBAAqB,MAAM;AAChCA,WAAAA,IAAI,KAAA;AACN,CAAC;"}